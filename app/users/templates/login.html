{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% block content %}
<h1>Login</h1>
<form method="post">
  {{ form.hidden_tag() }}

  <div class="form-group">
    {{ form.email.label }}
    {{ form.email(class="form-control") }}
    {% for err in form.email.errors %}
      <small class="text-danger">{{ err }}</small>
    {% endfor %}
  </div>

  <div class="form-group">
    {{ form.password.label }}
    {{ form.password(class="form-control") }}
    {% for err in form.password.errors %}
      <small class="text-danger">{{ err }}</small>
    {% endfor %}
  </div>

  <div class="form-group form-check">
    {{ form.remember(class="form-check-input") }}
    {{ form.remember.label(class="form-check-label") }}
  </div>

  <button type="submit" class="btn btn-primary">{{ form.submit.label.text }}</button>
</form>
<p class="mt-2 text-danger">
  {% with messages = get_flashed_messages() %}
    {{ messages[0] if messages else '' }}
  {% endwith %}
</p>
<p class="mt-2">
  Don't have an account? <a href="{{ url_for('users.register') }}">Register here</a>.
</p>
{% endblock %}
